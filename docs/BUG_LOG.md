## Bug Log

- ID: BUG-2025-12-12-002 | Title: Exposed weakness popup sometimes appears twice | Status: Open | Reported By: Atlas | Date: 2025-12-12 | Notes: Intermittent; likely duplicate trigger from coverage/exposure prompt path in demo flow or Tk handoff—needs repro and event de-dupe.
- ID: BUG-2025-12-12-003 | Title: PowerShell piping/here-string errors abort demo runs and leave logs empty | Status: Open | Reported By: Atlas-Delta | Date: 2025-12-12 | Notes: Demo runs aborted due to malformed here-strings and manual stops; need reliable PS input piping (e.g., echo "next`ndone") and to avoid interrupts so logging captures full output.
- ID: BUG-2025-12-12-005 | Title: Demo log shows defense 34/100 despite "Balanced" banner | Status: Open | Reported By: Atlas-Delta | Date: 2025-12-12 | Notes: Typing checkpoint prints "Balanced (no defensive gains left)" but final defense score is 34 (heavy stack penalty); reconcile messages or thresholds.
- ID: BUG-2025-12-12-008 | Title: PS/inline edits brittle (quoting/escapes) | Status: Open | Reported By: Atlas-Delta | Date: 2025-12-12 | Notes: Inline PowerShell + python -c replacements with f-string escapes failed repeatedly; use apply_patch or simple scripts instead on this system.
- ID: BUG-2025-12-12-009 | Title: One-mon run not logging beyond prompt | Status: Open | Reported By: Atlas-Delta | Date: 2025-12-12 | Notes: run_gengar_test.ps1 produced log run_20251212_132215.log that stops at first prompt (no scripted input consumed); need to feed input correctly or note limitation. Flushing added to 'log_verbose' and 'progress' functions (Gemini, 2025-12-15).
- Update 2025-12-13 (Comet): Logs run_20251213_014219/014307 show hang immediately after autofill kickoff (team size 4, no additions); 013523/012608 logs are interleaved/duplicated, suggesting logging stream corruption or stuck child process; demo_20251213_020312 stops after caching seeds. Consistent with BUG-2025-12-13-014 harness/logging hang.
- ID: BUG-2025-12-13-014 | Title: Logs remain 0 bytes / runs hang | Status: Open | Reported By: Orion | Date: 2025-12-13 | Notes: Recent harness runs produce 0-byte logs (e.g., run_20251213_015557.log). Likely child PowerShell/Python processes hang or never flush/close; need inline execution or timeouts so logs are readable during/after runs. Flushing added to 'log_verbose' and 'progress' functions (Gemini, 2025-12-15).
  - Update 2025-12-13 (Comet): Multiple runs (021612/021210/021209/021045/015557 and demo_20251213_020312) end at first prompt or cache step with tiny/empty logs; supports harness/log flushing issue. Also see duplicated payload blocks and interleaved lines in 013523/012608 logs, suggesting stream corruption or stuck child process.
- ID: BUG-2025-12-15-023 | Title: Typing delta prefers new exposures (emolga stacking rock) | Status: Open | Reported By: Nova | Date: 2025-12-15 | Notes: Defensive delta crowned emolga as best (+50) despite adding a rock weakness; root cause is delta ignoring newly introduced exposures/stack overlap. Added penalty for new exposed types and stack delta in typing_delta; needs re-run validation.
- ID: BUG-2025-12-15-024 | Title: Defensive delta overvalues flying/electric despite stack (emolga vs scizor/skarmory) | Status: Open | Reported By: Nova | Date: 2025-12-15 | Notes: After adding exposure immunity bonus, aurorus run still picks emolga as best DEF (+48) over steel/flying; suggests immunity weighting vs stack penalty still favors adding new 4x/2x exposed stacks. Need to bias delta toward immunizing top exposed types and down-weight additions that introduce new 4x/2x exposed stacks.
- ID: BUG-2025-12-15-029 | Title: Confusing Log Output | Status: Open | Reported By: Cygnus | Date: 2025-12-15 | Notes: The logs are extremely verbose with repetitive progress messages, making it difficult to debug or understand the program's execution flow. Logging should be cleaned up to be more concise and informative.
- ID: BUG-2025-12-15-030 | Title: Missing GUI Documentation | Status: Open | Reported By: Cygnus | Date: 2025-12-15 | Notes: The application launches a Tkinter GUI, but this feature is not documented in HOW_TO_OPERATE.md.
- ID: BUG-2025-12-15-034 | Title: Enhance Autofill Selection Explanation | Status: Open | Reported By: Gemini | Date: 2025-12-15 | Notes: Implement a feature to provide clear, concise explanations for autofill selections, especially when seemingly "weaker" or non-obvious Pokémon are chosen. This should identify and print the critical factors (e.g., specific move types, high uplift, specific type synergy) that led to the decision, to improve transparency and user understanding.
- ID: BUG-2025-12-15-038 | Title: GUI Feature: Rerate/Replace Pokémon in Slot due to Unavailability | Status: Open | Reported By: Gemini | Date: 2025-12-15 | Notes: Implement a UI feature that allows users to click on a Pokémon's name in a team slot to trigger a re-evaluation for that specific slot, excluding the currently selected Pokémon from the candidate pool. This addresses situations where a user cannot access a chosen Pokémon.
- ID: BUG-2025-12-15-039 | Title: Refactor Autofill: Two-Stage Selection (Defensive First, then Offensive Optimization) | Status: Open | Reported By: Gemini | Date: 2025-12-15 | Notes: Refactor autofill logic such that `pick_offense_addition` considers only Pokémon derived from the output of defensive selection functions, rather than generating its own pool. This aims to find the best defensive picks first, then optimize their offensive contribution. Clarification: The "pool" for offensive processing should consist of candidates corresponding to the three highest *overall* defensive deltas available to the current team, not simply the top 3 candidates per individual type/pair. The current implementation's `[:3]` limit for `s_opts` and `d_opts` is a development speedup and needs to be replaced with logic to select the top 3 overall defensive delta contributors.
- ID: BUG-2025-12-15-035 | Title: Enhance Autofill Selection Explanation (Low-Stat/Diamond in the Rough) | Status: Open | Reported By: Gemini | Date: 2025-12-15 | Notes: When autofill selects a Pokémon with significantly lower base stats (or a lower evolutionary stage) compared to other available options, identify and print the critical information that led to its selection (e.g., specific defensive typing, key resistances/immunities, high defensive delta contribution, unique offensive coverage). This aims to clarify "diamond in the rough" picks to the user.
- ID: BUG-2025-12-15-036 | Title: Defense Score of 0 in Aurorus/Talonflame Run | Status: Confirmed | Reported By: Gemini | Date: 2025-12-15 | Notes: User reported a specific run (Aurorus + Talonflame finalize) resulted in a defense score of 0. This indicates a critical breakdown in the defensive scoring logic for that team composition and needs immediate investigation. Confirmed in run_20251215_195551.log with Overall: 0/100.
- ID: BUG-2025-12-15-037 | Title: Xerneas Offensive Delta of 145 | Status: Confirmed | Reported By: Gemini | Date: 2025-12-15 | Notes: User observed Xerneas having an unusually high offensive delta of 145. This value seems excessive, suggesting a potential miscalculation or an issue in how offensive delta (best_offense_gap) is being computed or presented, indicating a large amount of "left on the table". Confirmed in run_20251215_195551.log with best remaining offensive delta +289.